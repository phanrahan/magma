hw.module @complex_aggregates_nested_array(%a: !hw.array<2x!hw.array<3xi4>>) -> (y: !hw.array<2x!hw.array<3xi4>>) {
    %1 = hw.constant 0 : i1
    %0 = hw.array_get %a[%1] : !hw.array<2x!hw.array<3xi4>>
    %3 = hw.constant 0 : i2
    %2 = hw.array_get %0[%3] : !hw.array<3xi4>
    %4 = comb.extract %2 from 0 : (i4) -> i1
    %6 = hw.constant 1 : i1
    %5 = hw.array_get %a[%6] : !hw.array<2x!hw.array<3xi4>>
    %8 = hw.constant 2 : i2
    %7 = hw.array_get %5[%8] : !hw.array<3xi4>
    %9 = comb.extract %7 from 3 : (i4) -> i1
    %10 = comb.or %4, %9 : i1
    %11 = comb.concat %10 : i1
    %12 = comb.extract %2 from 1 : (i4) -> i1
    %13 = comb.extract %7 from 2 : (i4) -> i1
    %14 = comb.or %12, %13 : i1
    %15 = comb.concat %14 : i1
    %16 = comb.extract %2 from 2 : (i4) -> i1
    %17 = comb.extract %7 from 1 : (i4) -> i1
    %18 = comb.or %16, %17 : i1
    %19 = comb.concat %18 : i1
    %20 = comb.extract %2 from 3 : (i4) -> i1
    %21 = comb.extract %7 from 0 : (i4) -> i1
    %22 = comb.or %20, %21 : i1
    %23 = comb.concat %22 : i1
    %24 = hw.array_concat %23, %19, %15, %11 : i1, i1, i1, i1
    %25 = hw.array_create %24 : i4
    %27 = hw.constant 1 : i2
    %26 = hw.array_get %0[%27] : !hw.array<3xi4>
    %28 = comb.extract %26 from 0 : (i4) -> i1
    %29 = hw.array_get %5[%27] : !hw.array<3xi4>
    %30 = comb.extract %29 from 3 : (i4) -> i1
    %31 = comb.or %28, %30 : i1
    %32 = comb.concat %31 : i1
    %33 = comb.extract %26 from 1 : (i4) -> i1
    %34 = comb.extract %29 from 2 : (i4) -> i1
    %35 = comb.or %33, %34 : i1
    %36 = comb.concat %35 : i1
    %37 = comb.extract %26 from 2 : (i4) -> i1
    %38 = comb.extract %29 from 1 : (i4) -> i1
    %39 = comb.or %37, %38 : i1
    %40 = comb.concat %39 : i1
    %41 = comb.extract %26 from 3 : (i4) -> i1
    %42 = comb.extract %29 from 0 : (i4) -> i1
    %43 = comb.or %41, %42 : i1
    %44 = comb.concat %43 : i1
    %45 = hw.array_concat %44, %40, %36, %32 : i1, i1, i1, i1
    %46 = hw.array_create %45 : i4
    %47 = hw.array_get %0[%8] : !hw.array<3xi4>
    %48 = comb.extract %47 from 0 : (i4) -> i1
    %49 = hw.array_get %5[%3] : !hw.array<3xi4>
    %50 = comb.extract %49 from 3 : (i4) -> i1
    %51 = comb.or %48, %50 : i1
    %52 = comb.concat %51 : i1
    %53 = comb.extract %47 from 1 : (i4) -> i1
    %54 = comb.extract %49 from 2 : (i4) -> i1
    %55 = comb.or %53, %54 : i1
    %56 = comb.concat %55 : i1
    %57 = comb.extract %47 from 2 : (i4) -> i1
    %58 = comb.extract %49 from 1 : (i4) -> i1
    %59 = comb.or %57, %58 : i1
    %60 = comb.concat %59 : i1
    %61 = comb.extract %47 from 3 : (i4) -> i1
    %62 = comb.extract %49 from 0 : (i4) -> i1
    %63 = comb.or %61, %62 : i1
    %64 = comb.concat %63 : i1
    %65 = hw.array_concat %64, %60, %56, %52 : i1, i1, i1, i1
    %66 = hw.array_create %65 : i4
    %67 = hw.array_concat %66, %46, %25 : !hw.array<1xi4>, !hw.array<1xi4>, !hw.array<1xi4>
    %68 = hw.array_create %67 : !hw.array<3xi4>
    %69 = comb.or %62, %61 : i1
    %70 = comb.concat %69 : i1
    %71 = comb.or %58, %57 : i1
    %72 = comb.concat %71 : i1
    %73 = comb.or %54, %53 : i1
    %74 = comb.concat %73 : i1
    %75 = comb.or %50, %48 : i1
    %76 = comb.concat %75 : i1
    %77 = hw.array_concat %76, %74, %72, %70 : i1, i1, i1, i1
    %78 = hw.array_create %77 : i4
    %79 = comb.or %42, %41 : i1
    %80 = comb.concat %79 : i1
    %81 = comb.or %38, %37 : i1
    %82 = comb.concat %81 : i1
    %83 = comb.or %34, %33 : i1
    %84 = comb.concat %83 : i1
    %85 = comb.or %30, %28 : i1
    %86 = comb.concat %85 : i1
    %87 = hw.array_concat %86, %84, %82, %80 : i1, i1, i1, i1
    %88 = hw.array_create %87 : i4
    %89 = comb.or %21, %20 : i1
    %90 = comb.concat %89 : i1
    %91 = comb.or %17, %16 : i1
    %92 = comb.concat %91 : i1
    %93 = comb.or %13, %12 : i1
    %94 = comb.concat %93 : i1
    %95 = comb.or %9, %4 : i1
    %96 = comb.concat %95 : i1
    %97 = hw.array_concat %96, %94, %92, %90 : i1, i1, i1, i1
    %98 = hw.array_create %97 : i4
    %99 = hw.array_concat %98, %88, %78 : !hw.array<1xi4>, !hw.array<1xi4>, !hw.array<1xi4>
    %100 = hw.array_create %99 : !hw.array<3xi4>
    %101 = hw.array_concat %100, %68 : !hw.array<1x!hw.array<3xi4>>, !hw.array<1x!hw.array<3xi4>>
    hw.output %101 : !hw.array<2x!hw.array<3xi4>>
}
