{"top":"global.Foo",
"namespaces":{
  "global":{
    "modules":{
      "Foo":{
        "type":["Record",[
          ["I",["Record",[["valid","BitIn"],["data",["Array",4,"BitIn"]]]]],
          ["O",["Array",4,"Bit"]],
          ["CLK",["Named","coreir.clkIn"]]
        ]],
        "instances":{
          "Register_inst0":{
            "modref":"global.Register"
          },
          "_CompileGuardWrapper_inst0":{
            "modref":"global._CompileGuardWrapper",
            "metadata":{"compile_guard":"ASSERT_ON"}
          }
        },
        "connections":[
          ["self.CLK","Register_inst0.CLK"],
          ["self.I.data","Register_inst0.I"],
          ["_CompileGuardWrapper_inst0.Register_inst0_O","Register_inst0.O"],
          ["self.O","Register_inst0.O"],
          ["self.CLK","_CompileGuardWrapper_inst0.CLK"],
          ["self.I.valid","_CompileGuardWrapper_inst0.I_valid"]
        ]
      },
      "Foo_inline_verilog_0":{
        "type":["Record",[
          ["__magma_inline_value_0","BitIn"]
        ]],
        "instances":{
          "corebit_term_inst0":{
            "modref":"corebit.term"
          }
        },
        "connections":[
          ["self.__magma_inline_value_0","corebit_term_inst0.in"]
        ],
        "metadata":{"inline_verilog":{"connect_references":{"__magma_inline_value_0":"self.__magma_inline_value_0"},"str":"initial assert ({__magma_inline_value_0});"}}
      },
      "Mux2xUInt2":{
        "type":["Record",[
          ["I0",["Array",2,"BitIn"]],
          ["I1",["Array",2,"BitIn"]],
          ["S","BitIn"],
          ["O",["Array",2,"Bit"]]
        ]],
        "instances":{
          "coreir_commonlib_mux2x2_inst0":{
            "genref":"commonlib.muxn",
            "genargs":{"N":["Int",2], "width":["Int",2]}
          }
        },
        "connections":[
          ["self.I0","coreir_commonlib_mux2x2_inst0.in.data.0"],
          ["self.I1","coreir_commonlib_mux2x2_inst0.in.data.1"],
          ["self.S","coreir_commonlib_mux2x2_inst0.in.sel.0"],
          ["self.O","coreir_commonlib_mux2x2_inst0.out"]
        ]
      },
      "Register":{
        "type":["Record",[
          ["I",["Array",4,"BitIn"]],
          ["O",["Array",4,"Bit"]],
          ["CLK",["Named","coreir.clkIn"]]
        ]],
        "instances":{
          "reg_P_inst0":{
            "genref":"coreir.reg",
            "genargs":{"width":["Int",4]},
            "modargs":{"clk_posedge":["Bool",true], "init":[["BitVector",4],"4'h0"]}
          }
        },
        "connections":[
          ["self.CLK","reg_P_inst0.clk"],
          ["self.I","reg_P_inst0.in"],
          ["self.O","reg_P_inst0.out"]
        ]
      },
      "Register_unq1":{
        "type":["Record",[
          ["I",["Array",2,"BitIn"]],
          ["O",["Array",2,"Bit"]],
          ["CE","BitIn"],
          ["CLK",["Named","coreir.clkIn"]]
        ]],
        "instances":{
          "enable_mux":{
            "modref":"global.Mux2xUInt2"
          },
          "reg_P_inst0":{
            "genref":"coreir.reg",
            "genargs":{"width":["Int",2]},
            "modargs":{"clk_posedge":["Bool",true], "init":[["BitVector",2],"2'h0"]}
          }
        },
        "connections":[
          ["reg_P_inst0.out","enable_mux.I0"],
          ["self.I","enable_mux.I1"],
          ["reg_P_inst0.in","enable_mux.O"],
          ["self.CE","enable_mux.S"],
          ["self.CLK","reg_P_inst0.clk"],
          ["self.O","reg_P_inst0.out"]
        ]
      },
      "_CompileGuardWrapper":{
        "type":["Record",[
          ["CLK",["Named","coreir.clkIn"]],
          ["I_valid","BitIn"],
          ["Register_inst0_O",["Array",4,"BitIn"]]
        ]],
        "instances":{
          "Foo_inline_verilog_inst_0":{
            "modref":"global.Foo_inline_verilog_0"
          },
          "Register_inst1":{
            "modref":"global.Register_unq1"
          },
          "_magma_inline_wire0":{
            "modref":"corebit.wire"
          },
          "const_1_2":{
            "genref":"coreir.const",
            "genargs":{"width":["Int",2]},
            "modargs":{"value":[["BitVector",2],"2'h1"]}
          },
          "const_3_2":{
            "genref":"coreir.const",
            "genargs":{"width":["Int",2]},
            "modargs":{"value":[["BitVector",2],"2'h3"]}
          },
          "const_3_4":{
            "genref":"coreir.const",
            "genargs":{"width":["Int",4]},
            "modargs":{"value":[["BitVector",4],"4'h3"]}
          },
          "magma_Bit_not_inst0":{
            "modref":"corebit.not"
          },
          "magma_Bit_or_inst0":{
            "modref":"corebit.or"
          },
          "magma_Bits_2_add_inst0":{
            "genref":"coreir.add",
            "genargs":{"width":["Int",2]}
          },
          "magma_Bits_2_eq_inst0":{
            "genref":"coreir.eq",
            "genargs":{"width":["Int",2]}
          },
          "magma_Bits_4_eq_inst0":{
            "genref":"coreir.eq",
            "genargs":{"width":["Int",4]}
          }
        },
        "connections":[
          ["_magma_inline_wire0.out","Foo_inline_verilog_inst_0.__magma_inline_value_0"],
          ["self.I_valid","Register_inst1.CE"],
          ["self.CLK","Register_inst1.CLK"],
          ["magma_Bits_2_add_inst0.out","Register_inst1.I"],
          ["magma_Bits_2_add_inst0.in0","Register_inst1.O"],
          ["magma_Bits_2_eq_inst0.in0","Register_inst1.O"],
          ["magma_Bit_or_inst0.out","_magma_inline_wire0.in"],
          ["magma_Bits_2_add_inst0.in1","const_1_2.out"],
          ["magma_Bits_2_eq_inst0.in1","const_3_2.out"],
          ["magma_Bits_4_eq_inst0.in1","const_3_4.out"],
          ["magma_Bits_2_eq_inst0.out","magma_Bit_not_inst0.in"],
          ["magma_Bit_or_inst0.in0","magma_Bit_not_inst0.out"],
          ["magma_Bits_4_eq_inst0.out","magma_Bit_or_inst0.in1"],
          ["self.Register_inst0_O","magma_Bits_4_eq_inst0.in0"]
        ]
      }
    }
  }
}
}
